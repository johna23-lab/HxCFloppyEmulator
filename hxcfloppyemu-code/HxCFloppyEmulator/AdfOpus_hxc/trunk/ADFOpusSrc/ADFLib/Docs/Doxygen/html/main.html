<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ADF Library</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Data Fields</a> &nbsp; <a class="qindex" href="globals.html">Globals</a> &nbsp; </center>
<hr><h1>ADF Library</h1>
<p>
<h3 align="center">V0.7.9d</h3>
<p>
ADFlib is a free, portable and open implementation of the Amiga filesystem. ADFLib is copyright © 1997-2002 Laurent Clévy and made available under the terms of the <a target="top" href="../../license.txt">GNU General Public License</a>.
<p>
<dl compact><dt><b>Author: </b></dt><dd>
Laurent Clévy - ADFLib.<br>
 Dan Sutherland - WinNT native driver.<br>
 Gary Harris - Doxygen documentation, V0.7.9b code, V0.7.9c &amp; V0.7.9d updates.<br>
 Bjark Viksoe - Enhancements for V0.7.9c. </dl><dl compact><dt><b>Version: </b></dt><dd>
0.7.9d </dl><dl compact><dt><b>Date: </b></dt><dd>
17 November, 2002</dl><b> Web Pages: </b><br>
 <a target="top" href="http://perso.club-internet.fr/lclevy/adflib"><a target="top" href="http://perso.club-internet.fr/lclevy/adflib">http://perso.club-internet.fr/lclevy/adflib</a></a>
<p>
<h2><a name="intro">Introduction</a>
</h2> (Laurent's README doc, somewhat out of date.) <div class="fragment"><pre>

The ADFlib is a free, portable and open implementation of the Amiga filesystem.

It supports :
- floppy dumps
- multiple partitions harddisk dumps
- UAE hardfiles
- WinNT devices with the 'native driver' written by Dan Sutherland
- mount/unmount/create a device (real one or a dump file),
- mount/unmount/create a volume (partition),
- create/open/close/<span class="keyword">delete</span>/rename/undel a file,
- read/write bytes from/to a file,
- create/<span class="keyword">delete</span>/rename/move/undel a directory,
- get directory contents, change current directory, get parent directory
- use dir cache to get directory contents.


It is written in portable C, and support the WinNT platform to access
real drives.

---

unADF is a unzip like <span class="keywordflow">for</span> .ADF files :


unadf [-lrcsp -v n] dumpname.adf [files-with-path] [-d extractdir]
    -l : lists root directory contents
    -r : lists directory tree contents
    -c : use dircache data (must be used with -l)
    -s : display entries logical block pointer (must be used with -l)

    -v n : mount volume #n instead of <span class="keywordflow">default</span> #0 volume

    -p : send extracted files to pipe (unadf -p dump.adf Pics/pic1.gif | xv -)
    -d dir : extract to 'dir' directory



Credits:
--------

main design and code             Laurent Clevy
WinNT native driver              Dan Sutherland


New versions and contact e-mail can be found at : 

http:<span class="comment">//perso.club-internet.fr/lclevy/adflib</span>



COMPILATION
-----------

It had been tested on Intel/Linux with gcc 2.7.2, Solaris 2.6, and
Win32.
The size of <span class="keywordtype">long</span> must be 4, the size of <span class="keywordtype">short</span> 2.
The library reads disk sectors written with the big endian (Motorola) byte
ordering.

You have to type :

make clean
make depend
make lib

A 'lidadf.a' should be created.


* Byte ordering

'make clean' remove the temporary files and the 'defendian.h'. In <span class="keyword">this</span> file,
LITT_ENDIAN must be defined <span class="keywordflow">if</span> the target machine uses the little endian 
byte ordering, like <span class="keyword">this</span> :

<span class="preprocessor">#ifndef LITT_ENDIAN</span>
<span class="preprocessor"></span><span class="preprocessor">#define LITT_ENDIAN 1</span>
<span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* LITT_ENDIAN */</span>

This should be done automatically by the 'myconf' shell script. myconf 
autocompiles a C file which detects the byte ordering. The 'defendian.h'
is generated in 'myconf'. 'defendian.h' should be included in every .c file
which uses the LITT_ENDIAN define is used, otherwise the compiler could think
it is not defined, and the target machine is (always) <span class="keyword">using</span> the big endian
byte ordering.

'myconf' is launched by 'make depend'.


* Native driver

The NATIV_DIR variable is used to choose the (only one) target platform
of the native driver. The <span class="keywordflow">default</span> is :

NATIV_DIR = ./Generic

This one <span class="keywordflow">do</span> not give access to any real device. The other one available is
Win32, to access real devices under WinNT.


* Win32DLL

The 'prefix.h' is used to create the Win32 DLL version of the library.
If the WIN32DLL variable is defined in the library code, <span class="keyword">public</span> functions
are preceded by the '__declspec(dllexport)' directive. If <span class="keyword">this</span> same
variable is defined, the '__declspec(dllimport)' is put before the functions
prototypes in the 'adflib.h' library include file.




FILES
-----

README          The file you are reading
TODO            Future improvements and bugfixes
CHANGES         Detailed changes
Lib/            main library files
Lib/Win32/      WinNT native driver
Lib/Generic/    native files templates
Boot/           Bootblocks that might by used to put on floppy disks
Docs/           The library developers documentation 
Faq/            The Amiga Filesystem explained
Test/           Test files and examples (not perfect)
Dumps/          .ADF used to test the library
Refs/           text outputs of the test files
Check/          files stored in the test dumps, used with 'diff'
Bonus/          Additional useful .ADF dumps
Demo/           unadf.c


Possible bugs
-------------

- in dircache updates
- when a volume is becoming full
- lost memory releases


Please report any bugs or mistakes in the documentation !



Have fun anyway !
</pre></div>
<p>
<h2><a name="additional">Additional Documentation</a>
</h2> These links are relative and will only work if this documentation remains in its default location within the source tree.
<p>
<h3><a name="sub1">1. Laurent's ADFLib API HTML Docs</a>
</h3> <a target="top" href="../../api_device.html">Device</a> : create and mount/unmount harddisk, floppydisk, .ADF, hardfiles.<br>
 <a target="top" href="../../api_volume.html">Volume</a> : create and mount/unmount volumes.<br>
 <a target="top" href="../../api_dir.html">Directory</a> : list, create, change of directories.<br>
 <a target="top" href="../../api_file.html">File</a> : create, read and write files.<br>
 <a target="top" href="../../api_env.html">Environment</a> : initialize and shutdown the library, control its behaviour.<br>
 <a target="top" href="../../api_salv.html">Salvage</a> : undeletion, recovery.<br>
 <a target="top" href="../../api_native.html">Native API</a> : how to write real devices drivers on your OS.<br>

<p>
<h3><a name="sub2">2. Laurent's Old ADFLib API text file</a>
</h3> <a target="top" href="../../API.txt">API.txt</a> : The original ADFLib API text document.<br>

<p>
<h3><a name="sub3">3. Changes</a>
</h3> <a target="top" href="../../../CHANGES">CHANGES</a> : Changes to ADFLib.
<p>
<h3><a name="sub4">4. The .ADF (Amiga Disk File) format FAQ</a>
</h3> <a target="top" href="../../../Faq/adf_info.html">adf_info.html</a> : Frequently asked questions about the ADF format.
<p>
<h3><a name="sub5">5. The Amiga Floppy Disk Format</a>
</h3> <a target="top" href="../../../Faq/adf_info_V0_9.txt">adf_info_V0_9.txt</a> : A description of the Amiga floppy disk structure.
<p>
<h3><a name="sub6">6. Win32 Readme</a>
</h3> <a target="top" href="../../../Lib/Win32/readme_win32.html">readme_win32.html</a> : Additional information about using ADFLib under 32-bit Windows.
<p>
<h2><a name="feedback">Feedback</a>
</h2> Feedback, corrections or suggestions regarding this documentation should be sent to <a target="top" href="mailto:gharris@zip.com.au"><a href="mailto:gharris@zip.com.au">gharris@zip.com.au</a></a>, in the first instance, or <a target="top" href="mailto:clevy@club-internet.fr"><a href="mailto:clevy@club-internet.fr">clevy@club-internet.fr</a></a>.
<p>
Other matters concerning the ADF Library should go to  <a target="top" href="mailto:clevy@club-internet.fr"><a href="mailto:clevy@club-internet.fr">clevy@club-internet.fr</a></a>.
<p>
<hr><address style="align: right;"><small>Generated on Sun Nov 17 22:45:08 2002 for staticlib by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.18 </small></address>
</body>
</html>
