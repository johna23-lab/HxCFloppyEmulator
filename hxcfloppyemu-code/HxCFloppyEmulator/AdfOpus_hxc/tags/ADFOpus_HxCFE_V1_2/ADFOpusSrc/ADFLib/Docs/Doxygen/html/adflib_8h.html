<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>adflib.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.18 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Data Structures</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Data Fields</a> &nbsp; <a class="qindex" href="globals.html">Globals</a> &nbsp; </center>
<hr><h1>adflib.h File Reference</h1>Include file. 
<a href="#_details">More...</a>
<p>
<code>#include "<a class="el" href="adf__defs_8h.html">adf_defs.h</a>"</code><br>
<code>#include "<a class="el" href="adf__str_8h.html">adf_str.h</a>"</code><br>

<p>
Include dependency graph for adflib.h:<p><center><img src="adflib_8h__incl.png" border="0" usemap="#adflib.h_map" alt="Include dependency graph"></center>
<map name="adflib.h_map">
<area href="adf__defs_8h.html" shape="rect" coords="14,16,97,34" alt="">
<area href="adf__str_8h.html" shape="rect" coords="111,85,183,104" alt="">
<area href="adf__blk_8h.html" shape="rect" coords="198,16,275,34" alt="">
<area href="adf__err_8h.html" shape="rect" coords="299,16,374,34" alt="">
</map>
<table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td nowrap align=right valign=top>PREFIX struct <a class="el" href="struct_list.html">List</a> *&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a2">newCell</a> (struct <a class="el" href="struct_list.html">List</a> *list, void *content)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Adds a cell at the end of the list.</em> <a href="#a2"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX void&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a3">freeList</a> (struct <a class="el" href="struct_list.html">List</a> *list)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Free a list.</em> <a href="#a3"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX RETCODE&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a4">adfToRootDir</a> (struct <a class="el" href="struct_volume.html">Volume</a> *vol)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Move the the root directory of a volume.</em> <a href="#a4"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX RETCODE&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a5">adfCreateDir</a> (struct <a class="el" href="struct_volume.html">Volume</a> *vol, SECTNUM parent, char *name)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Create a new directory in the specified parent directory.</em> <a href="#a5"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX RETCODE&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a6">adfChangeDir</a> (struct <a class="el" href="struct_volume.html">Volume</a> *vol, char *name)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Change the current working directory within a volume.</em> <a href="#a6"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX RETCODE&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a7">adfParentDir</a> (struct <a class="el" href="struct_volume.html">Volume</a> *vol)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Move to the parent of the current directory within a volume.</em> <a href="#a7"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX RETCODE&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a8">adfRemoveEntry</a> (struct <a class="el" href="struct_volume.html">Volume</a> *vol, SECTNUM pSect, char *name)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Remove a file or directory.</em> <a href="#a8"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX struct <a class="el" href="struct_list.html">List</a> *&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a9">adfGetDirEnt</a> (struct <a class="el" href="struct_volume.html">Volume</a> *vol, SECTNUM nSect)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Returns a linked list which contains the entries of one directory.</em> <a href="#a9"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX void&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a11">printEntry</a> (struct <a class="el" href="struct_entry.html">Entry</a> *entry)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Display a directory entry.</em> <a href="#a11"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX void&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a12">adfFreeDirList</a> (struct <a class="el" href="struct_list.html">List</a> *list)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Frees a linked list or a tree of directory entries.</em> <a href="#a12"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX void&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a13">adfFreeEntry</a> (struct <a class="el" href="struct_entry.html">Entry</a> *)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Free a file entry's memory.</em> <a href="#a13"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX RETCODE&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a14">adfRenameEntry</a> (struct <a class="el" href="struct_volume.html">Volume</a> *vol, SECTNUM, char *old, SECTNUM, char *pNew)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Rename an entry.</em> <a href="#a14"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX RETCODE&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a15">adfSetEntryAccess</a> (struct <a class="el" href="struct_volume.html">Volume</a> *, SECTNUM, char *, long)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Change an entry's property (access) flags.</em> <a href="#a15"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX RETCODE&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a16">adfSetEntryComment</a> (struct <a class="el" href="struct_volume.html">Volume</a> *, SECTNUM, char *, char *)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Set an entry's comment.</em> <a href="#a16"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX long&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a17">adfFileRealSize</a> (unsigned long size, int blockSize, long *dataN, long *extN)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Compute and return real number of blocks used by one file, number of datablocks and file extension blocks.</em> <a href="#a17"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX struct <a class="el" href="struct_file.html">File</a> *&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a18">adfOpenFile</a> (struct <a class="el" href="struct_volume.html">Volume</a> *vol, char *name, char *mode)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Open a file in an ADF.</em> <a href="#a18"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX void&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a19">adfCloseFile</a> (struct <a class="el" href="struct_file.html">File</a> *file)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Close a file.</em> <a href="#a19"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX long&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a20">adfReadFile</a> (struct <a class="el" href="struct_file.html">File</a> *file, long n, unsigned char *buffer)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Read n bytes from the given file into a buffer.</em> <a href="#a20"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX BOOL&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a21">adfEndOfFile</a> (struct <a class="el" href="struct_file.html">File</a> *file)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Check if the end of a file has been reached.</em> <a href="#a21"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX long&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a22">adfWriteFile</a> (struct <a class="el" href="struct_file.html">File</a> *file, long n, unsigned char *buffer)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Writes n bytes from the given buffer into a file.</em> <a href="#a22"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX void&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a23">adfFlushFile</a> (struct <a class="el" href="struct_file.html">File</a> *file)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Flush a file.</em> <a href="#a23"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX void&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a24">adfFileSeek</a> (struct <a class="el" href="struct_file.html">File</a> *file, unsigned long pos)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Seek within a file.</em> <a href="#a24"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX RETCODE&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a25">adfInstallBootBlock</a> (struct <a class="el" href="struct_volume.html">Volume</a> *vol, unsigned char *)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Install a bootblock on a floppy disk (ADF).</em> <a href="#a25"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX struct <a class="el" href="struct_volume.html">Volume</a> *&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a26">adfMount</a> (struct <a class="el" href="struct_device.html">Device</a> *dev, int nPart, BOOL readOnly)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Mount a volume.</em> <a href="#a26"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX void&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a27">adfUnMount</a> (struct <a class="el" href="struct_volume.html">Volume</a> *vol)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Dismount a volume.</em> <a href="#a27"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX void&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a28">adfVolumeInfo</a> (struct <a class="el" href="struct_volume.html">Volume</a> *vol)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Get information about a volume.</em> <a href="#a28"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX void&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a29">adfDeviceInfo</a> (struct <a class="el" href="struct_device.html">Device</a> *dev)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Display information about a device and its volumes.</em> <a href="#a29"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX struct <a class="el" href="struct_device.html">Device</a> *&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a30">adfMountDev</a> (char *filename, BOOL ro)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Mount a dump file (.adf) or a real device (uses <a class="el" href="_win32_2adf__nativ_8c.html">adf_nativ.c</a> and .h).</em> <a href="#a30"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX void&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a31">adfUnMountDev</a> (struct <a class="el" href="struct_device.html">Device</a> *dev)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Dismount a device.</em> <a href="#a31"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX RETCODE&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a32">adfCreateHd</a> (struct <a class="el" href="struct_device.html">Device</a> *dev, int n, struct <a class="el" href="struct_partition.html">Partition</a> **partList)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Create a hard disk dump.</em> <a href="#a32"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX RETCODE&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a33">adfCreateFlop</a> (struct <a class="el" href="struct_device.html">Device</a> *dev, char *volName, int volType)</td></tr>
<tr><td nowrap align=right valign=top>PREFIX RETCODE&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a34">adfCreateHdFile</a> (struct <a class="el" href="struct_device.html">Device</a> *dev, char *volName, int volType)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Create a hardfile.</em> <a href="#a34"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX struct <a class="el" href="struct_device.html">Device</a> *&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a35">adfCreateDumpDevice</a> (char *filename, long cyl, long heads, long sec)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Creat a basic device dump.</em> <a href="#a35"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX void&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a36">adfEnvInitDefault</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Initialise the library data structures and default values.</em> <a href="#a36"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX void&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a37">adfEnvCleanUp</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Cleans up the environment.</em> <a href="#a37"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX void&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a38">adfChgEnvProp</a> (int prop, void *pNew)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Change value of one of the environment properties.</em> <a href="#a38"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX char *&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a39">adfGetVersionNumber</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Get the current ADFLib version number.</em> <a href="#a39"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX char *&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a40">adfGetVersionDate</a> ()</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Get the current ADFLib creation date.</em> <a href="#a40"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX RETCODE&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a42">adfBlockPtr2EntryName</a> (struct <a class="el" href="struct_volume.html">Volume</a> *, SECTNUM, SECTNUM, char **, long *)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Read an entry name given a block pointer.</em> <a href="#a42"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX struct <a class="el" href="struct_list.html">List</a> *&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a43">adfGetDelEnt</a> (struct <a class="el" href="struct_volume.html">Volume</a> *vol)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Find deleted entries.</em> <a href="#a43"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX RETCODE&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a44">adfUndelEntry</a> (struct <a class="el" href="struct_volume.html">Volume</a> *vol, SECTNUM parent, SECTNUM nSect)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Recover a deleted file or dirctory.</em> <a href="#a44"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX void&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a45">adfFreeDelList</a> (struct <a class="el" href="struct_list.html">List</a> *list)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Free the list of deleted entries.</em> <a href="#a45"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX RETCODE&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a46">adfCheckEntry</a> (struct <a class="el" href="struct_volume.html">Volume</a> *vol, SECTNUM nSect, int level)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Check if a directory or file can be undeleted.</em> <a href="#a46"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX BOOL&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a47">isSectNumValid</a> (struct <a class="el" href="struct_volume.html">Volume</a> *vol, SECTNUM nSect)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Determine whether a sector is valid.</em> <a href="#a47"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX RETCODE&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a48">adfReadBlock</a> (struct <a class="el" href="struct_volume.html">Volume</a> *, long nSect, unsigned char *buf)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Read a logical block.</em> <a href="#a48"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX RETCODE&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a49">adfWriteBlock</a> (struct <a class="el" href="struct_volume.html">Volume</a> *, long nSect, unsigned char *buf)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Write data to a logical block.</em> <a href="#a49"></a><em></em></font><br><br></td></tr>
<tr><td nowrap align=right valign=top>PREFIX long&nbsp;</td><td valign=bottom><a class="el" href="adflib_8h.html#a50">adfCountFreeBlocks</a> (struct <a class="el" href="struct_volume.html">Volume</a> *vol)</td></tr>
<tr><td>&nbsp;</td><td><font size=-1><em>Count the free blocks in a volume.</em> <a href="#a50"></a><em></em></font><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Include file.
<p>
 Declaring _DEBUG_PRINTF_ in your compiler's preprocessor definitions for ADFLib will enable debug console output. This declaration is not made by default to avoid console problems for those not using the console.<br>
 Please do not remove the special formatting characters contained within comment blocks as you will break the Doxygen documentation. These include exclamation marks, less than symbols and anything prefixed by a backslash.
<p>
<hr><h2>Function Documentation</h2>
<a name="a42" doxytag="adflib.h::adfBlockPtr2EntryName"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX RETCODE adfBlockPtr2EntryName </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_volume.html">Volume</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>vol</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>SECTNUM&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>nSect</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>SECTNUM&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>lPar</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char **&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>long *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>size</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read an entry name given a block pointer.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>vol</em>&nbsp;</td><td>
- the parent volume. </td></tr>
<tr><td valign=top><em>nSect</em>&nbsp;</td><td>
- the location of the target entry. </td></tr>
<tr><td valign=top><em>lPar</em>&nbsp;</td><td>
- the location of the entry's parent directory. </td></tr>
<tr><td valign=top><em>name</em>&nbsp;</td><td>
- a pointer to a string to receive the entry name. </td></tr>
<tr><td valign=top><em>size</em>&nbsp;</td><td>
- a pointer to a long to receive the entry size in bytes. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
RC_OK or RC_MALLOC. </dl>    </td>
  </tr>
</table>
<a name="a6" doxytag="adflib.h::adfChangeDir"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX RETCODE adfChangeDir </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_volume.html">Volume</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>vol</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Change the current working directory within a volume.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>vol</em>&nbsp;</td><td>
- a pointer to the volume structure. </td></tr>
<tr><td valign=top><em>name</em>&nbsp;</td><td>
- a string containing the directory name. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
RC_OK or RC_ERROR. </dl>    </td>
  </tr>
</table>
<a name="a46" doxytag="adflib.h::adfCheckEntry"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX RETCODE adfCheckEntry </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_volume.html">Volume</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>vol</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>SECTNUM&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>nSect</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>level</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Check if a directory or file can be undeleted.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>vol</em>&nbsp;</td><td>
- the parent volume. </td></tr>
<tr><td valign=top><em>nSect</em>&nbsp;</td><td>
- the location of the target entry. </td></tr>
<tr><td valign=top><em>level</em>&nbsp;</td><td>
- (unused). </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
RC_OK or RC_ERROR.</dl>The "level" argument is not used yet. Could be set to 0.     </td>
  </tr>
</table>
<a name="a38" doxytag="adflib.h::adfChgEnvProp"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX void adfChgEnvProp </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>prop</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>new</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Change value of one of the environment properties.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>prop</em>&nbsp;</td><td>
- the environment property to change. </td></tr>
<tr><td valign=top><em>new</em>&nbsp;</td><td>
- the new property value. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
Void.</dl>Change the default or lastest value of one of the environment property. The new value has the void*, this is the only way to transmit it for several types. A cast is made depending of the property name inside <a class="el" href="adflib_8h.html#a38">adfChgEnvProp()</a>.
<p>
 <table border=1 cellspacing=3 cellpadding=3><tr><td> PR_VFCT </td><td> Display verbose messages, (void(*)(char*)). </td></tr>
<tr><td> PR_WFCT </td><td> Display warning messages, (void(*)(char*)). </td></tr>
<tr><td> PR_EFCT </td><td> Display error messages, (void(*)(char*)). </td></tr>
<tr><td> PR_NOTFCT </td><td> Directory object change notification, (void(*)(SECTNUM,int)). </td></tr>
<tr><td> PR_USE_NOTFCT </td><td> Toggle on/off (default = off = false). BOOL. </td></tr>
<tr><td> PR_PROGBAR </td><td> Progress bar, (void(*)(int)) </td></tr>
<tr><td> PR_USE_PROGBAR </td><td> Use progress bar (default = off). BOOL. The functions that support 'progress bar' are : <a class="el" href="adflib_8h.html#a33">adfCreateFlop()</a>, <a class="el" href="adflib_8h.html#a32">adfCreateHd()</a>, <a class="el" href="adflib_8h.html#a34">adfCreateHdFile()</a>. </td></tr>
<tr><td> PR_RWACCESS </td><td> Read (BOOL = false) or write (BOOL = true) operation, logical block and physical sector accessed, (void(*)(SECTNUM, SECTNUM, BOOL)). </td></tr>
<tr><td> PR_USE_RWACCESS </td><td> Use read/write access (default = off). BOOL. </td></tr>
<tr><td> PR_USEDIRC </td><td> Use dircache blocks. BOOL (default = off). </td></tr></table>

<p>
For the non pointer types (int with PR_USEDIRC), you have to use a temporary variable. To successfully override a function, the easiest is to reuse the default function located in <a class="el" href="adf__env_8c.html">adf_env.c</a>, and to change it for your needs.     </td>
  </tr>
</table>
<a name="a19" doxytag="adflib.h::adfCloseFile"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX void adfCloseFile </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_file.html">File</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>file</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Close a file.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>file</em>&nbsp;</td><td>
- a pointer to a file structure containing the file to close. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
Void.</dl>Calls <a class="el" href="adflib_8h.html#a23">adfFlushFile()</a> and frees the file structure.     </td>
  </tr>
</table>
<a name="a50" doxytag="adflib.h::adfCountFreeBlocks"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX long adfCountFreeBlocks </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_volume.html">Volume</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>vol</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Count the free blocks in a volume.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>vol</em>&nbsp;</td><td>
- a pointer to a volume structure. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
the number of free blocks available. </dl>    </td>
  </tr>
</table>
<a name="a5" doxytag="adflib.h::adfCreateDir"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX RETCODE adfCreateDir </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_volume.html">Volume</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>vol</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>SECTNUM&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>nParent</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a new directory in the specified parent directory.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>vol</em>&nbsp;</td><td>
- the parent volume. </td></tr>
<tr><td valign=top><em>nParent</em>&nbsp;</td><td>
- the new directory's parent sector. </td></tr>
<tr><td valign=top><em>name</em>&nbsp;</td><td>
- the name of the directory to create. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
RC_OK or RC_ERROR. </dl>    </td>
  </tr>
</table>
<a name="a35" doxytag="adflib.h::adfCreateDumpDevice"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX struct <a class="el" href="struct_device.html">Device</a>* adfCreateDumpDevice </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>filename</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>cylinders</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>heads</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>sectors</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Creat a basic device dump.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>filename</em>&nbsp;</td><td>
-  </td></tr>
<tr><td valign=top><em>cylinders</em>&nbsp;</td><td>
-  </td></tr>
<tr><td valign=top><em>heads</em>&nbsp;</td><td>
-  </td></tr>
<tr><td valign=top><em>sectors</em>&nbsp;</td><td>
-  </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
A pointer to the device struct or NULL if failed.</dl>Creates a file of the right size, and fills some fields of the <a class="el" href="struct_device.html">Device</a> structure. Must be followed by <a class="el" href="adflib_8h.html#a33">adfCreateFlop()</a> or <a class="el" href="adflib_8h.html#a32">adfCreateHd()</a>.
<p>
<b>Internals</b>: <br>
 1. Allocate struct <a class="el" href="struct_device.html">Device</a>* dev. 2. Allocate dev-&gt;nativeDev. 3. Create an empty file with a size equals to : cyl*heads*sect*512. 4. Open this file with "rb+" mode. 5. Fills dev-&gt;cylinders, dev-&gt;heads, dev-&gt;sectors, dev-&gt;size, dev-&gt;devType, and dev-&gt;nVol = 0. 6. Returns dev.
<p>
<b>Examples</b>: <br>
 See <a class="el" href="adflib_8h.html#a33">adfCreateFlop()</a> and <a class="el" href="adflib_8h.html#a32">adfCreateHd()</a> for examples.     </td>
  </tr>
</table>
<a name="a33" doxytag="adflib.h::adfCreateFlop"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX RETCODE adfCreateFlop </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_device.html">Device</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>dev</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>volName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>volType</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>dev</em>&nbsp;</td><td>
-  </td></tr>
<tr><td valign=top><em>volName</em>&nbsp;</td><td>
-  </td></tr>
<tr><td valign=top><em>volType</em>&nbsp;</td><td>
-  </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
RC_OK or RC_ERROR. Creates the filesystem of a DD or HD floppy. AdfMount() must be used after to mount the only volume. In case of a new ADF dump, <a class="el" href="adflib_8h.html#a35">adfCreateDumpDevice()</a> must be called before to create an empty media of the right size. A floppy disk ADF dump created with ADFlib -can be- used back by the AmigaDOS.</dl><b>Internals</b>: <br>
 1. Allocation of dev-&gt;volList[]. It contains one volume.<br>
 2. Creation of the volume
<p>
<b>Examples</b>: <br>
 See <a target="top" href="../../api_device.html">api_device.html</a> for example code.     </td>
  </tr>
</table>
<a name="a32" doxytag="adflib.h::adfCreateHd"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX RETCODE adfCreateHd </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_device.html">Device</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>dev</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>n</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>struct <a class="el" href="struct_partition.html">Partition</a> **&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>partList</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a hard disk dump.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>dev</em>&nbsp;</td><td>
- the device to be created. </td></tr>
<tr><td valign=top><em>n</em>&nbsp;</td><td>
- the number of partitions. </td></tr>
<tr><td valign=top><em>partList</em>&nbsp;</td><td>
- the partitions to be used. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
 Create the filesystem of a device which will be used as a Harddisk. AdfMount() must be used afterwards to mount a volume (partition). In the case of a new ADF dump, <a class="el" href="adflib_8h.html#a35">adfCreateDumpDevice()</a> must be called before to create an empty medium of the right size. A Harddisk ADF dump created with ADFlib -can not be- used by AmigaDOS, since some fields of the header structures are missing : they can not be automatically determined.</dl><b>Internals</b>: <br>
 1. Creates and fills dev-&gt;volList[]<br>
 2. Creates the Harddisk header structures on the media. It usually uses the 2 first cylinders of the device.
<p>
<b>Examples</b>: <br>
 See <a target="top" href="../../api_device.html">api_device.html</a> for example code.     </td>
  </tr>
</table>
<a name="a34" doxytag="adflib.h::adfCreateHdFile"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX RETCODE adfCreateHdFile </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_device.html">Device</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>dev</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>volName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>volType</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Create a hardfile.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>dev</em>&nbsp;</td><td>
- the device to create. </td></tr>
<tr><td valign=top><em>volName</em>&nbsp;</td><td>
- the volume name. </td></tr>
<tr><td valign=top><em>volType</em>&nbsp;</td><td>
- "FFS" or "OFS". </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
RC_OK or RC_ERROR</dl>Create a hardfile or a dump file. The size of this file must be larger than 1802240 bytes, the size of a high density floppy dump. Use <a class="el" href="adflib_8h.html#a35">adfCreateDumpDevice()</a> to create the device passed to <a class="el" href="adflib_8h.html#a34">adfCreateHdFile()</a>.
<p>
<b>Internals</b> <br>
 The device is created with one volume and dev-&gt;devType is filled with DEVTYPE_HARDFILE.     </td>
  </tr>
</table>
<a name="a29" doxytag="adflib.h::adfDeviceInfo"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX void adfDeviceInfo </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_device.html">Device</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>dev</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Display information about a device and its volumes.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>dev</em>&nbsp;</td><td>
- the device to query. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
Void.</dl>The function is for demonstration purposes only since the output is stdout! It could easily be modified to use a different display medium.     </td>
  </tr>
</table>
<a name="a21" doxytag="adflib.h::adfEndOfFile"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX BOOL adfEndOfFile </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_file.html">File</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>file</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Check if the end of a file has been reached.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>file</em>&nbsp;</td><td>
- the file to check. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
TRUE if the end of the file file has been reached. FALSE otherwise. </dl>    </td>
  </tr>
</table>
<a name="a37" doxytag="adflib.h::adfEnvCleanUp"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX void adfEnvCleanUp </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Cleans up the environment.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>None.</em>&nbsp;</td><td>
</td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
Void.</dl><b>Internals</b> <br>
 Frees the native functions structure.     </td>
  </tr>
</table>
<a name="a36" doxytag="adflib.h::adfEnvInitDefault"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX void adfEnvInitDefault </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialise the library data structures and default values.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>None.</em>&nbsp;</td><td>
</td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
Void.</dl>Initialise the library data structures and default values. Must be done before any other call to the library. There is 4 callback functions which can be (and must be) overridden, the library must not write anything to the console.  <ul>
<li> The verbose message redirection; <li> the warning message redirection; <li> the error message redirection (must stop the library); <li> The notification callback : when the current directory has changed. <li> The progress bar : this function is called with an int first set to 0. Then the value increases up to 100. It can be used to display a progress bar.</ul>
By default, those functions write a message to stderr. Another environment property is the ability to use or not the dir cache blocks to get the content of a directory. By default, it is not used. See <a class="el" href="adflib_8h.html#a38">adfChgEnvProp()</a> to learn how to change those properties.
<p>
<b>Internals</b> <br>
 1. Sets the default values. <br>
 2. Prints the library version with the verbose callback. <br>
 3. Allocates the native functions structure. <br>
 4. Calls <a class="el" href="_win32_2adf__nativ_8h.html#a3">adfInitNativeFct()</a>.
<p>
<b>Examples</b>: <br>
 See <a target="top" href="../../api_env.html">api_env.html</a> for example code.     </td>
  </tr>
</table>
<a name="a17" doxytag="adflib.h::adfFileRealSize"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX long adfFileRealSize </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">unsigned long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>size</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>blockSize</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>long *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>dataN</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>long *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>extN</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Compute and return real number of blocks used by one file, number of datablocks and file extension blocks.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>size</em>&nbsp;</td><td>
- the file's size. </td></tr>
<tr><td valign=top><em>blockSize</em>&nbsp;</td><td>
- The volume's data block size. </td></tr>
<tr><td valign=top><em>dataN</em>&nbsp;</td><td>
- If not NULL, a pointer to a long to receive the number of data blocks used. </td></tr>
<tr><td valign=top><em>extN</em>&nbsp;</td><td>
- If not NULL, a pointer to a long to receive the number of file extension used. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
Returns the real size in blocks of a file with the given size.</dl>The blockSize must be 488 or 512. This information is located in the datablockSize of the <a class="el" href="struct_volume.html">Volume</a> structure. If the pointers dataN and extN aren't NULL, the number of data blocks and file extension blocks are returned. The return value does not take into account the new dircache that -may- be allocated.     </td>
  </tr>
</table>
<a name="a24" doxytag="adflib.h::adfFileSeek"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX void adfFileSeek </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_file.html">File</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>file</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>unsigned long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>pos</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Seek within a file.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>file</em>&nbsp;</td><td>
- the file to seek within. </td></tr>
<tr><td valign=top><em>pos</em>&nbsp;</td><td>
- the position to seek to. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
Void. </dl>    </td>
  </tr>
</table>
<a name="a23" doxytag="adflib.h::adfFlushFile"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX void adfFlushFile </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_file.html">File</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>file</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Flush a file.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>file</em>&nbsp;</td><td>
- the file to flush. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
Void.</dl>Flushes a file's datablocks from memory to disk.     </td>
  </tr>
</table>
<a name="a45" doxytag="adflib.h::adfFreeDelList"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX void adfFreeDelList </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_list.html">List</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>list</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Free the list of deleted entries.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>list</em>&nbsp;</td><td>
- the list to free. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
Void. </dl>    </td>
  </tr>
</table>
<a name="a12" doxytag="adflib.h::adfFreeDirList"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX void adfFreeDirList </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_list.html">List</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>list</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Frees a linked list or a tree of directory entries.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>list</em>&nbsp;</td><td>
- The list. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
Void. </dl>    </td>
  </tr>
</table>
<a name="a13" doxytag="adflib.h::adfFreeEntry"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX void adfFreeEntry </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_entry.html">Entry</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>entry</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Free a file entry's memory.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>entry</em>&nbsp;</td><td>
- The entry to free. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
Void. </dl>    </td>
  </tr>
</table>
<a name="a43" doxytag="adflib.h::adfGetDelEnt"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX struct <a class="el" href="struct_list.html">List</a>* adfGetDelEnt </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_volume.html">Volume</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>vol</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Find deleted entries.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>vol</em>&nbsp;</td><td>
- the volume to search. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
A pointer to a list structure containing the deleted files' names. NULL otherwise.</dl>Returns a list of the files/directories that MIGHT be undeleted. The entries must be checked before attempting undeletion using <a class="el" href="adflib_8h.html#a46">adfCheckEntry()</a>!
<p>
<b>Internals</b> <br>
 Scans all the blocks of the volume to find directory blocks and file header blocks that are not allocated in the bitmap. <dl compact><dt><b>See also: </b></dt><dd>
See <a class="el" href="adflib_8h.html#a45">adfFreeDelList()</a> to free the list. <br>
 See <a class="el" href="adflib_8h.html#a46">adfCheckEntry()</a> to check if the entry can be undeleted. </dl>    </td>
  </tr>
</table>
<a name="a9" doxytag="adflib.h::adfGetDirEnt"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX struct <a class="el" href="struct_list.html">List</a>* adfGetDirEnt </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_volume.html">Volume</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>vol</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>SECTNUM&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>nSect</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns a linked list which contains the entries of one directory.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>vol</em>&nbsp;</td><td>
-  </td></tr>
<tr><td valign=top><em>nSect</em>&nbsp;</td><td>
-  </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
Returns a linked list which contains the entries of one directory, NULL in case of error..</dl>Equivalent to struct <a class="el" href="struct_list.html">List</a>* adfGetRDirEnt(struct Volume* vol, SECTNUM dir, FALSE).     </td>
  </tr>
</table>
<a name="a40" doxytag="adflib.h::adfGetVersionDate"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX char* adfGetVersionDate </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the current ADFLib creation date.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>None</em>&nbsp;</td><td>
</td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
The date string. </dl>    </td>
  </tr>
</table>
<a name="a39" doxytag="adflib.h::adfGetVersionNumber"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX char* adfGetVersionNumber </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp;          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get the current ADFLib version number.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>None</em>&nbsp;</td><td>
</td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
The version string. </dl>    </td>
  </tr>
</table>
<a name="a25" doxytag="adflib.h::adfInstallBootBlock"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX RETCODE adfInstallBootBlock </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_volume.html">Volume</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>vol</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>unsigned char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>code</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Install a bootblock on a floppy disk (ADF).
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>vol</em>&nbsp;</td><td>
- the volume to make bootable. </td></tr>
<tr><td valign=top><em>code</em>&nbsp;</td><td>
- the bootblock to install. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
RC_OK or RC_ERROR.</dl>Install a bootblock on a floppy disk. Won't work on any other device. You must provide the 1024 bytes large bootblock. Doesn't modify the initial 'DOS' header and dosType. Recalculates the checksum.  A valid AmigaDOS 3 bootblock can be found in the Boot subdirectory in the file stdboot3.bbk.     </td>
  </tr>
</table>
<a name="a26" doxytag="adflib.h::adfMount"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX struct <a class="el" href="struct_volume.html">Volume</a>* adfMount </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_device.html">Device</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>dev</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>nPart</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>BOOL&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>readOnly</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Mount a volume.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>dev</em>&nbsp;</td><td>
- The device containing the volume to mount. </td></tr>
<tr><td valign=top><em>nPart</em>&nbsp;</td><td>
- The volume number to mount. </td></tr>
<tr><td valign=top><em>readOnly</em>&nbsp;</td><td>
- TRUE if read only access is desired, FALSE otherwise. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
The <a class="el" href="struct_volume.html">Volume</a>, NULL in case of error.</dl>Mounts a designated volume (nPart) of the <a class="el" href="struct_device.html">Device</a> (dev), with specified read/write access (readOnly). The first partition is #0. The current working directory is the root block.
<p>
<b>Internals</b> <br>
 1. Read the bootblock to determine vol-&gt;dosType and vol-&gt;datablockSize. <br>
 2. Read the rootblock, fills vol-&gt;curDirPtr. <br>
 3. Read and allocate the bitmap : vol-&gt;bitmapBlocks[], vol-&gt;bitmapTable[], vol-&gt;bitmapSize, vol-&gt;bitmapBlocksChg[]. <br>
     </td>
  </tr>
</table>
<a name="a30" doxytag="adflib.h::adfMountDev"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX struct <a class="el" href="struct_device.html">Device</a>* adfMountDev </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>filename</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>BOOL&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>ro</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Mount a dump file (.adf) or a real device (uses <a class="el" href="_win32_2adf__nativ_8c.html">adf_nativ.c</a> and .h).
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>filename</em>&nbsp;</td><td>
- the device name. </td></tr>
<tr><td valign=top><em>ro</em>&nbsp;</td><td>
- TRUE if read only access is edsired, FALSE otherwise. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
A <a class="el" href="struct_device.html">Device</a> structure pointer or NULL if an error occurs.</dl>Mounts a device. The name could be a filename for an ADF dump, or a real device name such as "|F:" for the Win32 F: partition. The real device name is plateform dependent. adfInitDevice() must fill dev-&gt;size!
<p>
<b>Internals</b>: <br>
 1. Allocation of struct <a class="el" href="struct_device.html">Device</a> *dev. <br>
 2. Calls adfIsNativeDev() to determine if the name point out a ADF dump or a real (native) device. The field dev-&gt;isNativeDev is filled. <br>
 3. Initialize the (real or dump) device. The field dev-&gt;size is filled. <br>
 4. dev-&gt;devType is filled. <br>
 5. The device is mounted : dev-&gt;nVol, dev-&gt;volList[], dev-&gt;cylinders, dev-&gt;heads, dev-&gt;sectors are filled. <br>
 6. dev is returned.
<p>
Warning, in each dev-&gt;volList[i] volumes (vol), only vol-&gt;volName (might be NULL), vol-&gt;firstBlock, vol-&gt;lastBlock and vol-&gt;rootBlock are filled!
<p>
<b>Files</b>: <br>
 Real devices allocation : <a class="el" href="_win32_2adf__nativ_8c.html">adf_nativ.c</a>, <a class="el" href="_win32_2adf__nativ_8h.html">adf_nativ.h</a>. <br>
 ADF allocation : <a class="el" href="adf__dump_8c.html">adf_dump.c</a>, <a class="el" href="adf__dump_8h.html">adf_dump.h</a>. <dl compact><dt><b>See also: </b></dt><dd>
struct <a class="el" href="struct_device.html">Device</a>, real (native) devices. </dl>    </td>
  </tr>
</table>
<a name="a18" doxytag="adflib.h::adfOpenFile"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX struct <a class="el" href="struct_file.html">File</a>* adfOpenFile </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_volume.html">Volume</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>vol</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>mode</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Open a file in an ADF.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>vol</em>&nbsp;</td><td>
- a pointer to the current volume structure. </td></tr>
<tr><td valign=top><em>name</em>&nbsp;</td><td>
- the file's name. </td></tr>
<tr><td valign=top><em>mode</em>&nbsp;</td><td>
- access mode. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
The <a class="el" href="struct_file.html">File</a> structure, ready to be read or written to. NULL if an error occurs : file not found with "r", or file already exists with "w".</dl>Opens the file with the name "name" which is located in the current working directory of "vol". The allowable modes are "r" and "w". If the mode is "w", the file mustn't already exist, otherwise an error occurs. Some basic access permissions are just checked for now.
<p>
Available access modes are "r" = read, "w" = write, "a" = append.     </td>
  </tr>
</table>
<a name="a7" doxytag="adflib.h::adfParentDir"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX RETCODE adfParentDir </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_volume.html">Volume</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>vol</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Move to the parent of the current directory within a volume.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>vol</em>&nbsp;</td><td>
- a pointer to the volume structure. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
RC_OK or RC_ERROR. </dl>    </td>
  </tr>
</table>
<a name="a48" doxytag="adflib.h::adfReadBlock"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX RETCODE adfReadBlock </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_volume.html">Volume</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>vol</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>nSect</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>unsigned char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>buf</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read a logical block.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>vol</em>&nbsp;</td><td>
- the parent volume. </td></tr>
<tr><td valign=top><em>nSect</em>&nbsp;</td><td>
- the location of the target block. </td></tr>
<tr><td valign=top><em>buf</em>&nbsp;</td><td>
- a buffer to receive the read data. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
RC_OK or RC_ERROR. </dl>    </td>
  </tr>
</table>
<a name="a20" doxytag="adflib.h::adfReadFile"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX long adfReadFile </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_file.html">File</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>file</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>n</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>unsigned char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>buffer</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read n bytes from the given file into a buffer.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>file</em>&nbsp;</td><td>
- the file to read from. </td></tr>
<tr><td valign=top><em>n</em>&nbsp;</td><td>
- the number of bytes to read. </td></tr>
<tr><td valign=top><em>buffer</em>&nbsp;</td><td>
- a buffer to receive the read bytes. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
The number of bytes really read.</dl>Use <a class="el" href="adflib_8h.html#a21">adfEndOfFile()</a> to check if the end of the file is reached or not. See <a target="top" href="../../api_file.html">api_file.html</a> for example code.     </td>
  </tr>
</table>
<a name="a8" doxytag="adflib.h::adfRemoveEntry"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX RETCODE adfRemoveEntry </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_volume.html">Volume</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>vol</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>SECTNUM&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>pSect</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Remove a file or directory.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>vol</em>&nbsp;</td><td>
- A pointer to the volume structure. </td></tr>
<tr><td valign=top><em>pSect</em>&nbsp;</td><td>
- SECTNUM at which the entry resides. </td></tr>
<tr><td valign=top><em>name</em>&nbsp;</td><td>
- The entry's name. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
RC_OK or RC_ERROR. </dl>    </td>
  </tr>
</table>
<a name="a14" doxytag="adflib.h::adfRenameEntry"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX RETCODE adfRenameEntry </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_volume.html">Volume</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>vol</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>SECTNUM&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>pSect</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>oldName</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>SECTNUM&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>nPSect</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>newName</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Rename an entry.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>vol</em>&nbsp;</td><td>
- a pointer to the parent volume structure. </td></tr>
<tr><td valign=top><em>pSect</em>&nbsp;</td><td>
- the location of the current directory. </td></tr>
<tr><td valign=top><em>oldName</em>&nbsp;</td><td>
- the current entry name. </td></tr>
<tr><td valign=top><em>nPSect</em>&nbsp;</td><td>
- the location of the new directory. </td></tr>
<tr><td valign=top><em>newName</em>&nbsp;</td><td>
- the new entry name. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
RC_OK or RC_ERROR.</dl>Changes the name of the entry oldName located in the dir at pSect to newName, in the directory at npSect.     </td>
  </tr>
</table>
<a name="a15" doxytag="adflib.h::adfSetEntryAccess"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX RETCODE adfSetEntryAccess </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_volume.html">Volume</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>vol</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>SECTNUM&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>parSect</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>newAcc</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Change an entry's property (access) flags.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>vol</em>&nbsp;</td><td>
- a pointer to the current volume structure. </td></tr>
<tr><td valign=top><em>parSect</em>&nbsp;</td><td>
- the SECTNUM at which the entry is located. </td></tr>
<tr><td valign=top><em>name</em>&nbsp;</td><td>
- the entry's name. </td></tr>
<tr><td valign=top><em>newAcc</em>&nbsp;</td><td>
- the new access flags. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
RC_OK or RC_ERROR. </dl>    </td>
  </tr>
</table>
<a name="a16" doxytag="adflib.h::adfSetEntryComment"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX RETCODE adfSetEntryComment </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_volume.html">Volume</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>vol</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>SECTNUM&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>parSect</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>name</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>newCmt</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set an entry's comment.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>vol</em>&nbsp;</td><td>
- A pointer to the volume structure. </td></tr>
<tr><td valign=top><em>parSect</em>&nbsp;</td><td>
- SECTNUM at which the entry resides. </td></tr>
<tr><td valign=top><em>name</em>&nbsp;</td><td>
- The entry's name. </td></tr>
<tr><td valign=top><em>newCmt</em>&nbsp;</td><td>
- The new comment string. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
RC_OK or RC_ERROR. </dl>    </td>
  </tr>
</table>
<a name="a4" doxytag="adflib.h::adfToRootDir"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX RETCODE adfToRootDir </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_volume.html">Volume</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>vol</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Move the the root directory of a volume.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>vol</em>&nbsp;</td><td>
- a pointer to the volume structure. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
RC_OK. </dl>    </td>
  </tr>
</table>
<a name="a44" doxytag="adflib.h::adfUndelEntry"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX RETCODE adfUndelEntry </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_volume.html">Volume</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>vol</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>SECTNUM&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>parent</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>SECTNUM&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>nSect</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Recover a deleted file or dirctory.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>vol</em>&nbsp;</td><td>
- the parent volume. </td></tr>
<tr><td valign=top><em>parent</em>&nbsp;</td><td>
- the parent directory of the entry to be recovered. </td></tr>
<tr><td valign=top><em>nSect</em>&nbsp;</td><td>
- the location of the target entry. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
RC_OK or RC_ERROR.</dl>Undelete a directory or a file. The parent directory of an entry must exist.
<p>
<b>Internals</b> <br>
 Adds the entry's first block pointer in the parent directory list and allocates the related blocks in the bitmap.     </td>
  </tr>
</table>
<a name="a27" doxytag="adflib.h::adfUnMount"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX void adfUnMount </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_volume.html">Volume</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>vol</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Dismount a volume.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>vol</em>&nbsp;</td><td>
- the volume to dismount. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
Void.</dl>Release a <a class="el" href="struct_volume.html">Volume</a>. Free the bitmap structures. Free the current directory.     </td>
  </tr>
</table>
<a name="a31" doxytag="adflib.h::adfUnMountDev"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX void adfUnMountDev </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_device.html">Device</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>dev</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Dismount a device.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>dev</em>&nbsp;</td><td>
- the device to dismount. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
Void.</dl>Releases a <a class="el" href="struct_device.html">Device</a> and frees related resources.
<p>
<b>Internals</b>: <br>
 1. Frees dev-&gt;volList[].<br>
 2. Releases the ADF dump or real (native) device : call the suited function.     </td>
  </tr>
</table>
<a name="a28" doxytag="adflib.h::adfVolumeInfo"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX void adfVolumeInfo </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_volume.html">Volume</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>vol</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Get information about a volume.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>vol</em>&nbsp;</td><td>
- the volume in question.  </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
Void.</dl>This function uses console output and should only be used in a console application. See adfVolumeInfoWin in <a class="el" href="adfvolinfo_8c.html">Lib/Win32/adfvolinfo.c</a> for a Windows version that uses message boxes to display the volume data.     </td>
  </tr>
</table>
<a name="a49" doxytag="adflib.h::adfWriteBlock"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX RETCODE adfWriteBlock </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_volume.html">Volume</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>vol</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>nSect</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>unsigned char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>buf</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write data to a logical block.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>vol</em>&nbsp;</td><td>
- the parent volume. </td></tr>
<tr><td valign=top><em>nSect</em>&nbsp;</td><td>
- the location of the target block. </td></tr>
<tr><td valign=top><em>buf</em>&nbsp;</td><td>
- a buffer containing to the data to write. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
RC_OK or RC_ERROR. </dl>    </td>
  </tr>
</table>
<a name="a22" doxytag="adflib.h::adfWriteFile"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX long adfWriteFile </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_file.html">File</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>file</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>long&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>n</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>unsigned char *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>buffer</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Writes n bytes from the given buffer into a file.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>file</em>&nbsp;</td><td>
- the file to write to. </td></tr>
<tr><td valign=top><em>n</em>&nbsp;</td><td>
- the number of bytes to write. </td></tr>
<tr><td valign=top><em>buffer</em>&nbsp;</td><td>
- a buffe containing the data to write. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
The number of bytes written.</dl>See <a target="top" href="../../api_file.html">api_file.html</a> for example code.     </td>
  </tr>
</table>
<a name="a3" doxytag="adflib.h::freeList"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX void freeList </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_list.html">List</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>list</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Free a list.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>list</em>&nbsp;</td><td>
- the list to free. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
Void. </dl>    </td>
  </tr>
</table>
<a name="a47" doxytag="adflib.h::isSectNumValid"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX BOOL isSectNumValid </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_volume.html">Volume</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>vol</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>SECTNUM&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>nSect</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Determine whether a sector is valid.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>vol</em>&nbsp;</td><td>
- the parent volume. </td></tr>
<tr><td valign=top><em>nSect</em>&nbsp;</td><td>
- the target sector. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
TRUE or FALSE. </dl>    </td>
  </tr>
</table>
<a name="a2" doxytag="adflib.h::newCell"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX struct <a class="el" href="struct_list.html">List</a>* newCell </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_list.html">List</a> *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>list</em>, </td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td class="md" nowrap>void *&nbsp;</td>
          <td class="mdname" nowrap>&nbsp; <em>content</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Adds a cell at the end of the list.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>list</em>&nbsp;</td><td>
- the list structure to add the new cell to. </td></tr>
<tr><td valign=top><em>content</em>&nbsp;</td><td>
- the cell content. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
The new list structure. </dl>    </td>
  </tr>
</table>
<a name="a11" doxytag="adflib.h::printEntry"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> PREFIX void printEntry </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="struct_entry.html">Entry</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>&nbsp; <em>entry</em>          </td>
          <td class="md" valign="top">)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Display a directory entry.
<p>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>entry</em>&nbsp;</td><td>
- The entry to print. </td></tr>
</table>
</dl><dl compact><dt><b>Returns: </b></dt><dd>
Void.</dl>Do no use this function (not an adf one), but you can use its code to learn how to display a directory entry (in <a class="el" href="adf__dir_8c.html">adf_dir.c</a>). Any function using console output like this should only be used in console mode.     </td>
  </tr>
</table>
<hr><address style="align: right;"><small>Generated on Sun Nov 17 22:45:24 2002 for staticlib by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.18 </small></address>
</body>
</html>
